Index: u-boot-2010.06/src/include/configs/dm385_evm.h
===================================================================
--- u-boot-2010.06.orig/src/include/configs/dm385_evm.h	2012-03-22 23:10:53.000000000 -0600
+++ u-boot-2010.06/src/include/configs/dm385_evm.h	2014-11-19 09:54:05.455640586 -0600
@@ -78,7 +78,7 @@
 /* size in bytes reserved for initial data */
 # define CONFIG_ENV_OVERWRITE
 # define CONFIG_SYS_LONGHELP
-# define CONFIG_SYS_PROMPT		"DM385_EVM#"
+# define CONFIG_SYS_PROMPT		"RIDGERUN_DM385#"
 /* Use HUSH parser to allow command parsing */
 # define CONFIG_SYS_HUSH_PARSER
 # define CONFIG_SYS_PROMPT_HUSH_PS2     "> "
@@ -95,7 +95,7 @@
 # define CONFIG_SPI			1
 # define CONFIG_I2C			1
 
-# define CONFIG_EXTRA_ENV_SETTINGS \
+# define CONFIG_EXTRA_ENV_SETTINGS \
 	"verify=yes\0" \
 	"bootfile=uImage\0" \
 	"ramdisk_file=ramdisk.gz\0" \
@@ -104,7 +104,11 @@
 	"loadbootscript=fatload mmc 0 ${script_addr} boot.scr\0" \
 	"bootscript= echo Running bootscript from MMC/SD to set the ENV...; " \
 		"source ${script_addr}\0" \
+	"bootargs=console=ttyO0,115200n8 notifyk.vpssm3_sva=0xBF900000 " \
+		"root=/dev/mmcblk0p2 init=/proc/self/exe rootwait rootfstype=ext4 " \
+		"mem=364M@0x80000000 mem=320M@0x9FC00000 vmalloc=512M vram=81M\0"
 
+/*
 # define CONFIG_BOOTCOMMAND \
 	"if mmc rescan 0; then " \
 		"if run loadbootscript; then " \
@@ -118,6 +122,12 @@
 		"echo Please set bootargs and bootcmd before booting the kernel; " \
 		"echo If that has already been done please ignore this message; "\
 	"fi"
+*/
+
+# define CONFIG_BOOTCOMMAND \
+	"mmc rescan 0; i2c mw 0x2d 0x28 0x2b; i2c mw 0x2d 0x29 0x2b; " \
+	"fatload mmc 0 82000000 uImage ; bootm 82000000"
+
 #endif
 
 # define CONFIG_SYS_GBL_DATA_SIZE	128
